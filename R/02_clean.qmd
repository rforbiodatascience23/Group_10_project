---
title: "Clean"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(dplyr)
```


Seperated dataset: First part 
```{r}
cancer_data_1 <- read_tsv('/net/pupil1/home/people/s194681/projects/Group_project_10/01_dat_load_1.tsv') |> 
  as_tibble() |>
  rename_all(tolower) |>
  rename_all(~ gsub("[^[:alnum:]]", " ", .)) |>
  mutate_all(~ str_replace_all(., '"', '')) 


```

Second part:
```{r}
cancer_data_2 <- read_tsv('/net/pupil1/home/people/s194681/projects/Group_project_10/01_dat_load_2.tsv') |> 
  as_tibble() |>
  rename_all(tolower) |>
  rename_all(~ gsub("[^[:alnum:]]", " ", .)) |>
  mutate_all(~ str_replace_all(., '"', ''))  





```


Third part:
```{r}

cancer_data_3 <- read_tsv('/net/pupil1/home/people/s194681/projects/Group_project_10/01_dat_load_3.tsv') |> 
  as_tibble() |>
  rename_all(tolower) |>
  rename_all(~ gsub("[^[:alnum:]]", " ", .)) |>
  mutate_all(~ str_replace_all(., '"', '')) 
```

Join dataset

```{r}

cancer_dataset_clean <- cancer_data_1 |> 
  full_join(cancer_data_2, by = 'id ') |> 
  full_join(cancer_data_3, by = 'id ')|>
  as_tibble() |>
  mutate(`diagnosis ` = case_when(`diagnosis `== "M" ~ 0,
    `diagnosis `== "B" ~ 1)) |> 
  write_tsv(file = "/net/pupil1/home/people/s194681/projects/Group_project_10/02_dat_clean.tsv") |>
  print()

```


