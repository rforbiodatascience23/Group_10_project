---
title: "Describe data"
format: html
editor: visual
  markdown: 
    wrap: 72
---

```{r}
library(tidyverse)
library(dplyr)
```

Dataset: Breast Cancer Wisconsin (Diagnostic) Data Set. The dataset is made to predict whether breast cancer in patients are benign or malignant. The attributes are computed from a digitized image of a fine needle aspirate of a breast mass. They describe characteristics of the cell nuclei present in the image. There are 31 different attributes from these images based on 569 patients. The class distribution is 357 benign and 212 malignant cases. There are no NA's. Each patient case is distinguished with an ID number and a diagnostic attribute: B for benign and M for malignant. For each cell nucleus there are 10 features computed: - Radius - Standard deviation of the gray-scaled values (texture) - Perimeter - Area - Local variation in radius lengths (smoothness) - Local variation in radius lengths (compactness) - Concave portions of the contour (concavity) - Number of concave portions in contour (concave points) - Symmetry - Fractal dimension For these each of these attributes 3 numbers were calculated: mean, standard error and the worst (mean of the 3 largest values). These 3 categories of datapoints are assembled to one big dataset as seen below.

```{r}
setwd("Users/matildeuth/Documents/R_bio_data")
cancer_dataset <- read_tsv("Users/matildeuth/Documents/R_bio_data/02_dat_clean.tsv")

print(cancer_dataset)

```

## Heatmap of correlation between parameters

```{r}
#heatmap_corr <- ggplot(data = cancer_dataset, mapping = )

correlation_matrix <- cancer_dataset |> select(!id) |> select_if(is.numeric) |> cor()
print(correlation_matrix)

tidy_correlation <- correlation_matrix |> 
  as.tibble() |> 
  rownames_to_column(var = "variable1") |>
  pivot_longer(cols = starts_with("Var"), names_to = "Variable", values_to = "Value")
  gather(key = "variable2", value = "correlation", -variable1)
print(tidy_correlation)
ggplot_heatmap <- ggplot(tidy_correlation, aes(variable1, variable2, fill = correlation)) +
  geom_tile(color = "white") +
  scale_fill_gradient2(low = "blue", 
                       mid = "white", 
                       high = "red", 
                       midpoint = 0, 
                       limits = c(-1, 1)) +
  theme_minimal() + 
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

print(ggplot_heatmap)

```
